(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cc9b956"],{"46ce":function(t,o,e){"use strict";e.r(o);var a=function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"my-lawler"},[a("v-container",[a("v-row",{staticClass:"text-center bg-primary-gradient"},[a("v-col",{attrs:{cols:"12"}},[a("v-img",{attrs:{src:e("d939"),contain:"",height:"120"}})],1),a("v-col",{attrs:{cols:"12","align-self":"center"}},[a("h1",{staticClass:"font-weight-bold profile-title text-center",staticStyle:{"font-size":"1.5rem"}},[t._v("Documentos en línea")])])],1),a("v-row",{staticClass:"breadcrumbs"},[a("v-col",{attrs:{cols:"12"}},[t._v("Categoría > Subcategoría > Tipo de pago")])],1),a("v-row",[a("v-col",[a("div",{staticClass:"page-title text-capitalize"},[t._v(t._s(t.operation.document.name))]),a("div",{staticClass:"call-to-action text-center"},[a("div",[t._v("Costo del documento: S/ "+t._s(t.operation.document_price))]),a("div",[t._v("Código de solicitud: "+t._s(t._f("padleft")(t.operation.id)))]),a("div",[t._v("Abogado responsable: "+t._s(t.operation.lawyer.name))])]),a("coupon",{attrs:{price:t.operation.document_price},on:{"code-used":t.onCodeUsed,"price-updated":t.onPriceUpdated}}),a("p",{staticClass:"text-center"},[t._v("¿Cómo quieres pagar?")]),t._e(),a("div",{staticClass:"call-to-action",on:{click:function(o){return t.goToBank()}}},[a("div",{staticClass:"icon"},[a("v-img",{attrs:{src:e("b398"),contain:"",height:"24"}})],1),a("div",{staticClass:"text"},[t._v("Depósito bancario")])])],1)],1)],1)],1)},n=[],i=e("5530"),c=e("2f62"),s=e("bc3a"),r=e.n(s),d=e("f43e"),l={name:"DocumentVariablePaymentMethod",components:{Coupon:d["a"]},data:function(){return{operation:{document:{},lawyer:{}},code:""}},computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])(["user"])),{},{operationId:function(){return this.$route.params.id}}),created:function(){this.loadOperation()},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])([])),{},{loadOperation:function(){var t=this;r.a.get("operations/"+this.operationId).then((function(o){t.operation=o.data}))},onCodeUsed:function(t){this.code=t},onPriceUpdated:function(t){this.priceTotal=t},goToPayment:function(){var t=this;r.a.put("operations/"+this.operationId,{coupon_code:this.code}).then((function(){t.$router.push({name:"DocumentVariablePaymentOnline",params:{id:t.operationId}})}))},goToBank:function(){var t=this;r.a.put("operations/"+this.operationId,{coupon_code:this.code}).then((function(){t.$router.push({name:"DocumentVariablePaymentVoucher",params:{id:t.operationId}})}))}})},u=l,p=e("2877"),v=e("6544"),h=e.n(v),m=e("62ad"),f=e("a523"),g=e("adda"),b=e("0fd9"),C=Object(p["a"])(u,a,n,!1,null,null,null);o["default"]=C.exports;h()(C,{VCol:m["a"],VContainer:f["a"],VImg:g["a"],VRow:b["a"]})},d939:function(t,o,e){t.exports=e.p+"img/logo-white.7ed421f4.png"},f43e:function(t,o,e){"use strict";var a=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("p",{staticClass:"text-center"},[t._v("Ingresa tú códígo de descuento")])]),e("v-col",{attrs:{cols:"12"}},[e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{attrs:{label:"Codigo",outlined:"",dense:"","hide-details":""},model:{value:t.code,callback:function(o){t.code=o},expression:"code"}})],1),e("v-col",{attrs:{cols:"6"}},[e("v-btn",{attrs:{loading:t.isLoading,color:"primary",block:""},on:{click:t.onSubmit}},[t._v("Aplicar código")])],1)],1)],1),e("v-col",{attrs:{cols:"12"}},[e("p",{staticClass:"text-center",staticStyle:{"margin-top":"1rem"}},[t._v("Precio total: S/. "+t._s(t.priceWithCoupon))])])],1)],1)},n=[],i=e("5530"),c=(e("b680"),e("2f62")),s=e("bc3a"),r=e.n(s),d={name:"Coupon",inject:["notyf"],props:["price"],data:function(){return{isLoading:!1,code:"",discount:0}},computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])(["user"])),{},{priceWithCoupon:function(){var t=parseFloat(this.discount>0?(1-this.discount/100)*this.price:this.price);return console.log(t),t.toFixed(2)}}),methods:{onSubmit:function(){var t=this;this.isLoading=!0,r.a.get("/coupons/"+this.code).then((function(o){t.discount=parseInt(o.data.data.discount),t.$emit("code-used",t.code),t.$emit("price-updated",t.priceWithCoupon),t.notyf.success("Codigo de descuento aplicado!")})).catch((function(){t.notyf.error("Codigo no valido!")})).then((function(){t.isLoading=!1}))}}},l=d,u=e("2877"),p=e("6544"),v=e.n(p),h=e("8336"),m=e("62ad"),f=e("a523"),g=e("0fd9"),b=e("8654"),C=Object(u["a"])(l,a,n,!1,null,null,null);o["a"]=C.exports;v()(C,{VBtn:h["a"],VCol:m["a"],VContainer:f["a"],VRow:g["a"],VTextField:b["a"]})}}]);
//# sourceMappingURL=chunk-1cc9b956.5e61b99c.js.map