(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ccc7f74"],{"162b":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-lawler"},[n("v-container",[n("v-row",{staticClass:"text-center bg-primary-gradient"},[n("v-col",{attrs:{cols:"12"}},[n("v-img",{attrs:{src:o("d939"),contain:"",height:"120"}})],1),n("v-col",{attrs:{cols:"12","align-self":"center"}},[n("h1",{staticClass:"font-weight-bold profile-title text-center",staticStyle:{"font-size":"1.5rem"}},[t._v("Documentos en línea")])])],1),n("v-row",{staticClass:"breadcrumbs"},[n("v-col",{attrs:{cols:"12"}},[t._v("Categoría > Subcategoría > Tipo de pago")])],1),n("v-row",[n("v-col",[n("div",{staticClass:"page-title text-capitalize"},[t._v(t._s(t.link.name))]),n("div",{domProps:{innerHTML:t._s(t.link.description)}}),n("coupon",{attrs:{price:t.link.price},on:{"code-used":t.onCodeUsed,"price-updated":t.onPriceUpdated}}),n("p",{staticClass:"text-center"},[t._v("¿Cómo quieres pagar?")]),t._e(),n("div",{staticClass:"call-to-action",on:{click:function(e){return t.goToBank()}}},[n("div",{staticClass:"icon"},[n("v-img",{attrs:{src:o("b398"),contain:"",height:"24"}})],1),n("div",{staticClass:"text"},[t._v("Depósito bancario")])])],1)],1)],1)],1)},a=[],i=o("5530"),c=(o("7db0"),o("9911"),o("2f62")),s=o("bc3a"),r=o.n(s),d=o("f43e"),l={name:"DocumentsDetail",components:{Coupon:d["a"]},data:function(){return{category:"",subcategory:"",link:"",items:[]}},computed:Object(i["a"])({},Object(c["c"])(["user"])),mounted:function(){this.loadDocuments()},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])(["addCodeToOperation","addPriceToOperation"])),{},{loadDocuments:function(){var t=this,e="categories?type=document";r.a.get(e).then((function(e){var o=t.$route.params.id,n=t.$route.params.id2,a=t.$route.params.id3;t.category=e.data.find((function(t){return parseInt(t.id)===parseInt(o)})),t.subcategory=t.category.subcategories.find((function(t){return parseInt(t.id)===parseInt(n)})),t.link=t.subcategory.links.find((function(t){return parseInt(t.id)===parseInt(a)}))}))},onCodeUsed:function(t){this.code=t,this.addCodeToOperation(t)},onPriceUpdated:function(t){this.priceTotal=t,this.addPriceToOperation(t)},goToPayment:function(){this.$router.push({name:"DocumentsPayment"})},goToBank:function(){this.$router.push({name:"DocumentsBank"})}})},u=l,p=o("2877"),f=o("6544"),m=o.n(f),v=o("62ad"),g=o("a523"),h=o("adda"),b=o("0fd9"),C=Object(p["a"])(u,n,a,!1,null,null,null);e["default"]=C.exports;m()(C,{VCol:v["a"],VContainer:g["a"],VImg:h["a"],VRow:b["a"]})},d939:function(t,e,o){t.exports=o.p+"img/logo-white.7ed421f4.png"},f43e:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12"}},[o("p",{staticClass:"text-center"},[t._v("Ingresa tú códígo de descuento")])]),o("v-col",{attrs:{cols:"12"}},[o("v-row",[o("v-col",{attrs:{cols:"6"}},[o("v-text-field",{attrs:{label:"Codigo",outlined:"",dense:"","hide-details":""},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),o("v-col",{attrs:{cols:"6"}},[o("v-btn",{attrs:{loading:t.isLoading,color:"primary",block:""},on:{click:t.onSubmit}},[t._v("Aplicar código")])],1)],1)],1),o("v-col",{attrs:{cols:"12"}},[o("p",{staticClass:"text-center",staticStyle:{"margin-top":"1rem"}},[t._v("Precio total: S/. "+t._s(t.priceWithCoupon))])])],1)],1)},a=[],i=o("5530"),c=(o("b680"),o("2f62")),s=o("bc3a"),r=o.n(s),d={name:"Coupon",inject:["notyf"],props:["price"],data:function(){return{isLoading:!1,code:"",discount:0}},computed:Object(i["a"])(Object(i["a"])({},Object(c["c"])(["user"])),{},{priceWithCoupon:function(){var t=parseFloat(this.discount>0?(1-this.discount/100)*this.price:this.price);return console.log(t),t.toFixed(2)}}),methods:{onSubmit:function(){var t=this;this.isLoading=!0,r.a.get("/coupons/"+this.code).then((function(e){t.discount=parseInt(e.data.data.discount),t.$emit("code-used",t.code),t.$emit("price-updated",t.priceWithCoupon),t.notyf.success("Codigo de descuento aplicado!")})).catch((function(){t.notyf.error("Codigo no valido!")})).then((function(){t.isLoading=!1}))}}},l=d,u=o("2877"),p=o("6544"),f=o.n(p),m=o("8336"),v=o("62ad"),g=o("a523"),h=o("0fd9"),b=o("8654"),C=Object(u["a"])(l,n,a,!1,null,null,null);e["a"]=C.exports;f()(C,{VBtn:m["a"],VCol:v["a"],VContainer:g["a"],VRow:h["a"],VTextField:b["a"]})}}]);
//# sourceMappingURL=chunk-1ccc7f74.a99dbc94.js.map