(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2306dd"],{ebf0:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"my-lawler"},[o("v-container",[o("v-row",{staticClass:"text-center bg-primary-gradient"},[o("v-col",{attrs:{cols:"3"}},[o("v-img",{attrs:{src:a("4a0c"),contain:"",height:"90"}})],1),o("v-col",{attrs:{cols:"8","align-self":"center"}},[o("h1",{staticClass:"font-weight-bold profile-title",staticStyle:{"font-size":"1.5rem"}},[t._v("Mi abogado LegalHelp")])])],1),o("v-row",{staticClass:"breadcrumbs"},[o("v-col",{attrs:{cols:"12"}},[t._v("Tipo de consulta > Tipo de pago > Tarjeta")])],1),o("v-row",[o("v-col",[o("div",{staticClass:"page-title text-capitalize"},[t._v(t._s(t.service.name))]),o("div",{staticClass:"call-to-action"},[o("div",{staticClass:"text text-center",staticStyle:{display:"block"}},[t._v("Precio final: S/. "+t._s(t.service.price_final))])]),o("div",{staticClass:"page-title"},[t._v("Ingresar los datos de tu tarjeta")]),o("div",{staticClass:"call-to-action",on:{click:function(e){return t.goToBank()}}},[o("div",{staticClass:"text",staticStyle:{display:"block"}},[o("v-text-field",{attrs:{counter:"25",label:"Numero de tarjeta *"}}),o("v-text-field",{attrs:{label:"Nombre del titular *"}}),o("v-text-field",{attrs:{label:"Vencimiento *",hint:"MM/AA","persistent-hint":""}}),o("v-text-field",{attrs:{label:"Codigo de seguridad *",hint:"Últimos 3 números en el reverso","persistent-hint":""}})],1)]),o("div",{staticClass:"text-center",staticStyle:{margin:"2rem 0"}},[o("v-btn",{attrs:{color:"primary",width:"160",loading:t.isLoading},on:{click:function(e){return t.goToConfirm()}}},[t._v(" Continuar "),o("v-img",{attrs:{src:a("7aed"),height:"20",contain:""}})],1)],1)])],1),o("payment")],1)],1)},i=[],r=a("5530"),n=(a("7db0"),a("2f62")),c=a("bc3a"),s=a.n(c),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("form",{staticStyle:{"background-color":"#EDEDED"},attrs:{id:"form-checkout"}},[a("input",{attrs:{type:"text",name:"cardNumber",id:"form-checkout__cardNumber"}}),a("input",{attrs:{type:"text",name:"cardExpirationMonth",id:"form-checkout__cardExpirationMonth"}}),a("input",{attrs:{type:"text",name:"cardExpirationYear",id:"form-checkout__cardExpirationYear"}}),a("input",{attrs:{type:"text",name:"cardholderName",id:"form-checkout__cardholderName"}}),a("input",{attrs:{type:"email",name:"cardholderEmail",id:"form-checkout__cardholderEmail"}}),a("input",{attrs:{type:"text",name:"securityCode",id:"form-checkout__securityCode"}}),a("select",{attrs:{name:"issuer",id:"form-checkout__issuer"}}),a("select",{attrs:{name:"identificationType",id:"form-checkout__identificationType"}}),a("input",{attrs:{type:"text",name:"identificationNumber",id:"form-checkout__identificationNumber"}}),a("select",{attrs:{name:"installments",id:"form-checkout__installments"}}),a("button",{attrs:{type:"submit",id:"form-checkout__submit"}},[t._v("Pagar")]),a("progress",{staticClass:"progress-bar",attrs:{value:"0"}},[t._v("Cargando...")])])])],1)],1)},l=[],u=(a("d3b7"),a("a9e3"),{data:function(){return{}},mounted:function(){var t=new window.MercadoPago("TEST-899e9510-6136-426d-aaac-db5ab060801a"),e=t.cardForm({amount:"100.5",autoMount:!0,form:{id:"form-checkout",cardholderName:{id:"form-checkout__cardholderName",placeholder:"Titular de la tarjeta"},cardholderEmail:{id:"form-checkout__cardholderEmail",placeholder:"E-mail"},cardNumber:{id:"form-checkout__cardNumber",placeholder:"Número de la tarjeta"},cardExpirationMonth:{id:"form-checkout__cardExpirationMonth",placeholder:"Mes de vencimiento"},cardExpirationYear:{id:"form-checkout__cardExpirationYear",placeholder:"Año de vencimiento"},securityCode:{id:"form-checkout__securityCode",placeholder:"Código de seguridad"},installments:{id:"form-checkout__installments",placeholder:"Cuotas"},identificationType:{id:"form-checkout__identificationType",placeholder:"Tipo de documento"},identificationNumber:{id:"form-checkout__identificationNumber",placeholder:"Número de documento"},issuer:{id:"form-checkout__issuer",placeholder:"Banco emisor"}},callbacks:{onFormMounted:function(t){if(t)return console.warn("Form Mounted handling error: ",t);console.log("Form mounted")},onSubmit:function(t){t.preventDefault();var a=e.getCardFormData(),o=a.paymentMethodId,i=a.issuerId,r=a.cardholderEmail,n=a.amount,c=a.token,s=a.installments,d=a.identificationNumber,l=a.identificationType;fetch("http://legalhelp.local/api/payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:c,issuer_id:i,payment_method_id:o,transaction_amount:Number(n),installments:Number(s),description:"Descripción del producto",payer:{email:r,identification:{type:l,number:d}}})}).then((function(t){console.log("payment ok"),console.log(t)})).catch((function(t){console.log("payment error"),console.log(t)}))},onFetching:function(t){console.log("Fetching resource: ",t);var e=document.querySelector(".progress-bar");return e.removeAttribute("value"),function(){e.setAttribute("value","0")}}}})},methods:{}}),m=u,p=a("2877"),h=a("6544"),f=a.n(h),_=a("62ad"),v=a("a523"),b=a("0fd9"),y=Object(p["a"])(m,d,l,!1,null,null,null),g=y.exports;f()(y,{VCol:_["a"],VContainer:v["a"],VRow:b["a"]});var k={name:"MyLawyerPayment",components:{Payment:g},inject:["notyf"],data:function(){return{isLoading:!1}},computed:Object(r["a"])({},Object(n["c"])(["user","services","service"])),created:function(){if(null===this.service){var t=parseInt(this.$route.params.id),e=this.services.find((function(e){return e.id===t}));this.selectService(e)}},mounted:function(){},methods:Object(r["a"])(Object(r["a"])({},Object(n["b"])(["selectService"])),{},{goToConfirm:function(){var t=this;this.isLoading=!0;var e=this.$route.params.id,a="consultations",o={service_id:this.service.id,payment_method_id:1,status_id:3,coupon_code:this.service.coupon_code};s.a.post(a,o).then((function(a){t.$router.push({name:"MyLawyerPaymentConfirm",params:{id:e,operationId:a.data.id}})})).catch((function(){t.notyf.error("Ups! Ocurrio un error, por favor intentelo mas tarde.")})).then((function(){t.isLoading=!1}))}})},C=k,x=a("8336"),w=a("adda"),E=a("8654"),N=Object(p["a"])(C,o,i,!1,null,null,null);e["default"]=N.exports;f()(N,{VBtn:x["a"],VCol:_["a"],VContainer:v["a"],VImg:w["a"],VRow:b["a"],VTextField:E["a"]})}}]);
//# sourceMappingURL=chunk-2d2306dd.f5a81608.js.map